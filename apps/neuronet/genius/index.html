<meta charset="UTF-8">
<title>Title</title>

<script type="module">
    import '../../../oda.js'
    import * as gen from './genius.js'

    const tokenizer = new gen.Tokenizer();
    let phrases = tokenizer('мама мыла раму');


    const encoder = new gen.WordEncoder();
    phrases = phrases.map(r=>{
        return r.map(w=>{
            return encoder(w);
        })
    })
    // console.log(phrases)


    const model = new gen.Genius();

    let result = []
    for(let phrase of phrases){
        // model.initPhrase()
        for(let token of phrase) {
            console.time('work')
            token = model(token)
            console.timeEnd('work')
            result.push(token);
        }
    }


    const decoder = new gen.WordDecoder();
    result = result.map(w=>{
        return decoder(w.data);
        // return r.data.map(w=>{
        //     return decoder(w);
        // })
    })
    console.log(result);

</script>


<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="ODA Framework - designed for rapid development of websites, mobile PWAs and web applications using web components technology - https://odajs.org/" />
        <title>oda-ch-grid</title>
    </head>

    <body>
        <p><span id="span" style="border-bottom: 1px solid gray;">Generate - 1 269 800 records ...</span></p>
        <div style="display: flex; width: 100%; height: 100%; position: relative;">
            <oda-canvas-table id="grid_ch" style="flex: 1"></oda-canvas-table>
            <oda-canvas-table id="grid_ch_2" style="flex: 1"></oda-canvas-table>
        </div>

        <script type="module">
            import '../../../oda.js';
            import './canvas-table.js';
            import { foodList } from './food.js';
            grid_ch.header = [];
            grid_ch_2.header = [];
            foodList.columns.map(i => {
                grid_ch.header.push({ field: i.name, caption: i.label, width: i.width || '340px' })
                grid_ch_2.header.push({ field: i.name, caption: i.label, width: i.width || '340px' })
            })
            grid_ch.frozenColCount = 1;
            grid_ch_2.frozenColCount = 1;
            grid_ch.records = [];
            grid_ch_2.records = [];
            for (let i = 0; i < 100; i++) {
                let z = i * foodList.rows.length + 1;
                let list = [];
                foodList.rows.map(i => {
                    i.$idx = z;
                    z += 1;
                    list.push({...i});
                })
                grid_ch.records = ([...grid_ch.records, ...list]);
            }
            grid_ch_2.records = [...grid_ch.records];
            grid_ch_2.records.reverse();
            span.innerText = 'Table has - 1 269 800 records ...';
        </script>
    </body>

</html>

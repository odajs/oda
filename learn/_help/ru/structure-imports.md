Атрибут **imports** используется для реализации отложенного импорта JS-модулей, что укоряет загрузку и начальную инициализацию Web-приложений.

В соответствии с технологией Web-компонентов различные ODA-компоненты располагаются в отдельных файлах, называемых модулями. Для использования этих компонентов необходимо первоначально подключить файл их модуля и импортировать требуемую информацию из него. Для этого в языке JavaScript предусмотрена специальная инструкция **import**.

Например, для того, чтобы использовать компонент **oda-icon** необходимо подключить его модуль **icon.js** , который располагается в папке **/components/buttons/icon/**.

```javascript run_edit_[my-component.js]
import '/components/buttons/icon/icon.js';
ODA({
    is: 'my-component',
    template: `
        <div>Импорт иконки</div>
        <oda-icon icon="icons:android"></oda-icon>
    `
});
```

Такой способ подключения JS-модулей работает, но обладает рядом недостатков:

1. Необходимо знать полный путь к файлу подключаемого компонента.

1. Код компонента перестанет работать в случае изменения расположения подключаемого модуля.

1. В подключаемом модуле выполняются все инструкции **import**. Это приводит к загрузке всей цепочки модулей при запуске Web-приложения, даже если в текущий момент в этих модулях нет необходимости.

Для устранения этих недостатков в прототипах ODA-компонентов можно использовать специальный атрибут **imports**, в котором указываются полные пути к файлам модулей или условные имена компонентов:

```javascript run_edit_[my-component.js]
ODA({
    is: 'my-component',
    imports: '/components/buttons/icon/icon.js',
    template: `
        <div>Импорт иконки</div>
        <oda-icon icon="icons:android"></oda-icon>
    `
});
```

В данном примере путь к файлу модуля просто перенесен из инструкции **import** в атрибут **imports** прототипа компонента. Это позволяет осуществлять отложенную загрузку компонента, но сохраняет требование к точному указанию пути.

Чтобы отказаться от привязки к полному пути к файлу модуля в атрибуте **imports** можно указать условное имя компонента:

```javascript run_edit_[my-component.js]
ODA({
    is: 'my-component',
    imports: '@oda/icon',
    template: `
        <div>Импорт иконки</div>
        <oda-icon icon="icons:android"></oda-icon>
    `
});
```

Условное имя компонента состоит из двух частей, разделенных символом '**/**' (слеш). Первая часть указывает на пространство имен и начинается с символа '**@**'. В данном примере используется пространство имен **@oda**. В качестве второй части используется имя самого компонента **icon**. Использование пространства имен позволяет избежать конфликтов между одноименными компонентами, загружаемых из разных источников.

Взаимосвязь между условным именем компонента и именем модуля, в котором расположен его код, устанавливается с помощью файла **paths.json**, который находится в корневой директории сервера. Информация в нем хранится в JSON-формате в виде пар **ключ:значение**, где **ключ** — это условное имя компонента, а **значение** — путь к файлу модуля.

Например,

```info_md
"@oda/icon": "components/buttons/icon/icon.js",
```

```info_md
Для простоты восприятия кода рекомендуется в качестве условного имени компонента использовать имя файла модуля без указания расширения **js**.
```

Теперь, если переместить файл модуля в другую директорию, достаточно будет изменить только путь к нему в файле **paths.json**, не выполняя корректировку кода самого компонента и всех использующих его модулей.

Если требуется подключить несколько модулей одновременно, то в атрибуте **imports** указывается список этих модулей. Список можно представить в двух форматах:

<span>1.</span> В виде строки, в которой ссылки на требуемые модули разделяются запятыми:

```info_md
imports: '@oda/icon, @oda/checkbox'
```

Например,

```javascript _run_edit_[my-component.js]
ODA({
    is: 'my-component',
    imports: '@oda/icon, @oda/checkbox',
    template: `
        <oda-icon icon="icons:android"></oda-icon>
        <oda-checkbox></oda-checkbox>
    `
});
```

<span>2.</span> В виде массива строк, в котором каждый элемент является ссылкой на отдельный модуль:

```info_md
imports: ['@oda/icon', '@oda/checkbox']
```

Например,

```javascript _run_edit_[my-component.js]
ODA({
    is: 'my-component',
    imports: ['@oda/icon','@oda/checkbox'],
    template: `
        <oda-icon icon="icons:android"></oda-icon>
        <oda-checkbox></oda-checkbox>
    `
});
```

Кроме этого, в списке можно смешивать представления ссылок в виде условных имен компонентов и полных путей к файлам их модулей.

Например,

```javascript _run_edit_[my-component.js]_h=60_
ODA({
    is: 'my-component',
    imports: '@oda/icon, /components/buttons/checkbox/checkbox.js',
    template: `
        <oda-icon icon="icons:android"></oda-icon>
        <oda-checkbox></oda-checkbox>
    `
});
```

Продемонстрировать преимущества отложенной загрузки можно на следующем примере, в котором будут использоваться два модуля.

Первый модуль с именем **module1** начнем с команды вывода сообщения о его загрузке, а затем объявим компонент с именем **demo-component**.

```javascript
//module1.js

document.body.append( document.createTextNode("- Загружен модуль 1 -") );

ODA({
    is: 'demo-component',
    imports: './module2.js',
    template: `
        <span style="border:dashed">Это DEMO-компонент</span>
    `
});
```

Пусть для работы этого компонента требуется другой модуль с именем **module2**, который будет загружаться с помощью атрибута **imports**.

Во втором модуле предусмотрим только одну команду c выводом сообщения, чтобы продемонстрировать момент  действительной загрузки модуля браузером.

```javascript
//module2.js

document.body.append( document.createTextNode("- Загружен модуль 2 -") );
```

В основном тексте программы объявим компонент **main-component**, который будет создавать компонент **demo-component** только при нажатии на кнопку **Добавить компонент**.

```javascript _run_edit_[main-component.js]_h=60_
ODA({
    is: 'main-component',
    imports: '/learn/guide/structure/module1.js',
    template: `
        <button @tap='show=true'>Добавить компонент</button>
        <demo-component ~if='show'></demo-component>
    `,
    $public: {
        show: false
    }
});
```

В примере по сообщению **"Загружен модуль 1"** видно, что первый модуль загружается сразу при загрузке страницы. При загрузке первого модуля создается компонент **demo-component**, но при этом в DOM веб-страницы он не добавляется. Сообщение **"Загружен модуль 2"** появится только после нажатия кнопки **Добавить компонент**. То есть второй модуль загружается только тогда, когда компонент **demo-component** действительно встраивается в DOM веб-страницы, а не в процессе создания компонента.

Таким образом, благодаря механизму отложенного импорта требуемые модули для компонентов будут загружаться на Веб-страницу только тогда, когда в них действительно появится необходимость, а не во время первоначальной загрузки страницы.


<div style="position:relative;padding-bottom:48%; margin:10px">
    <iframe src="https://www.youtube.com/embed/b6rtcjakmw8?start=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
    	style="position:absolute;width:100%;height:100%;"></iframe>
</div>

С помощью директивы **~props** можно привязать к HTML-элементу обработчики событий. Для этого связанный с ней объект должен содержать свойство, имя которого совпадает с названием обрабатываемого события, и значением которого является функция, объявленная с помощью ключевого слова **function**.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~props="attr">
            <span style="color:red">Щелкни по мне</span>
        </div>
    `,
    attr: {
        click: function() {
            this.append(" Щёлк");
        }
    }
});
```

В данном примере с помощью директивы привязывается функция к событию **click**.

Аналогичный результат будет получен, если в объекте вместо свойства объявить метод с именем обрабатываемого события.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~props="attr">
            <span style="color:red">Щелкни по мне</span>
        </div>
    `,
    attr: {
        click() {
            this.append(" Щёлк");
        }
    }
});
```

Данный пример аналогичен предыдущему, за исключением того, что свойство **click** было заменено на одноименный метод.

В качестве имен обработчиков можно использовать псевдонимы событий, определенные во фреймвоке.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~props="attr">
            <span style="color:red">Щелкни по мне</span>
        </div>
    `,
    attr: {
        tap() {
            this.append(" Щёлк");
        }
    }
});
```

Данный пример аналогичен предыдущему, за исключением того, что имя обработчика было изменено с нативного **click** на определенный во фреймворке псевдоним **tap**.

Если обработчик имеет большой объем кода, то может быть удобно объявить его за пределами объекта привязанного к директиве. В этом случае объект должен содержать свойство, указывающее на этот обработчик, а сам объект должен передаваться в директиву через вызов геттера или функции.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~props="attr" >
            <span style="color:red">Щелкни по мне</span>
        </div>
    `,
    get attr() {
        return {
            click: this.onClick
        }
    },
    onClick() {
        this.append(" Щёлк");
    }
});
```

В данном примере обработчик события **click** задан в отдельном методе **onClick**. Указатель на метод присваивается свойству **click** объекта, возвращаемого геттером **attr**, который является значением директивы **~props**.

Если у HTML-элемента заданы два обработчика одного и того же события, один с помощью директивы **~props**, а другой с помощью директивы **@**, то при наступлении события они будут вызваны оба.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~props="attr" @click="onClick">
            <span style="color:red">Щелкни по мне</span>
        </div>
    `,
    attr: {
        click() {
            this.append(" Щёлк");
        }
    },
    onClick() {
        this.$("div").append(" Клац");
    }
});
```

В данном примере у элемента **div** заданы два обработчика события **click**. Один задан с помощью директивы **~props**, а другой с помощью директивы **@click**. Как видно по результатам выполнения примера на экран выводятся сообщения из обоих обработчиков.

Обработчику автоматически передается указатель на объект события. Для доступа к нему необходимо объявить обработчик с одним аргументом.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~props="attr">
            <span style="color:red">Щелкни по мне</span>
        </div>
    `,
    attr: {
        click(event) {
            this.append(" " + event.target.localName);
        }
    }
});
```

В данном примере функция-обработчик получает через параметр **event** объект события и извлекает из него имя элемента-источника события.





Обратите внимание, что от способа объявления обработчика зависит контекст его выполнения. Если обработчик объявлен как метод или с помощью ключевого слова **function**, то указатель **this** указывает на HTML-элемент, в котором объявлена директива **~props**. В этом случае ссылку на компонент можно получить из свойства **this.domHost**.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~props="attr">
            <span style="color:red">Щелкни по мне</span>
        </div>
    `,
    attr: {
        click() {
            this.append(' Элемент: ' + this.localName);
            this.append(' Компонент: ' + this.domHost.localName);
        }
    }
});
```

В данном примере обработчик привязан к элементу **div** с помощью директивы и объекта **attr**. По выводимому на экран сообщению можно видеть, что указатель **this** указывает на элемент **div**, а **this.domHost** указывает на компонент **my-component**.

Если необходимо, чтобы указатель **this** в обработчике указывал на компонент, то нужно привязать к нему контекст компонента с помощью метода **bind**. Сделать это можно только в объекте, возвращаемом методом компонента или геттером.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~props="attr">
            <span style="color:red">Щелкни по мне</span>
        </div>
    `,
    get attr() {
        return {
            click: (function(){
                this.$("div").append(' ' + this.localName)
            }).bind( this )
        }
    }
});
```

В данном примере обработчик события **click** задан в объекте, возвращаемом геттером **attr** в качестве значения для директивы **~props**. К обработчику привязан контекст компонента с помощью метода **bind**. Как видно по выводу на экран, указатель **this** в обработчике указывает на компонент **my-component**.

Этот пример немного упростится, если использовать стрелочную функцию. В этом случае не нужно использовать метод **bind** для привязки контекста.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~props="attr" >
            <span style="color:red">Щелкни по мне</span>
        </div>
    `,
    get attr() {
        return {
            click: ()=>{
                this.$("div").append(' ' + this.localName)
            }
        }
    }
});
```

Этот пример аналогичен предыдущему, только вместо обычной объявлена стрелочная функция.


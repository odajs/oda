Директива **~if** используется для условного рендеринга HTML-элемента.

Если значение этой директивы можно привести к значению **true**, то HTML-элемент, в котором она указана, будет добавлен в DOM компонента и прорисован браузером. В противном случае, если директива **~if** примет значение **false**, то HTML-элемент будет автоматически удален из DOM компонента, и, соответственно, браузер не будет тратить время на его рендеринг и отображение.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <span ~if="!showMe">Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

В данном примере нажатие на кнопку изменяет значение свойства **showMe** с **true** на **false**, и наоборот. При каждом таком изменении один из элементов **span** будет динамически добавляться в DOM компонента, а другой — удаляться из него. Таким образом, с помощью директивы реализована смена надписи на кнопке.

```info_md
В отличие от директивы **~show**, директива **~if** полностью удаляет HTML-элемент из DOM компонента и снова добавляет его при любом изменении её значения.
```

По этой причине директиву **~if** эффективнее всего использовать тогда, когда сам HTML-элемент на странице изначально не нужен, а переключение его в режим отображения осуществляется крайне редко. В этом случае директива **~if** ускорит рендеринг HTML-страницы, так как сам элемент изначально в DOM будет отсутствовать. Однако при этом замедлится процесс его отображения, так как фреймворку будет необходимо время, чтобы добавить элемент в DOM компонента.

```help_md
Если изменение режима отображения элемента будет происходить достаточно часто, то эффективнее всего будет применить директиву **~show**, которая не добавляет и не удаляет элемент из DOM, а только прячет его на странице и отображает вновь, используя атрибут **display**.
```

Директива **~else** используется для условного рендеринга HTML-элемента, когда условие предыдущей директивы **~if** не выполняется.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <span ~else>Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

Этот пример аналогичен предыдущему, только во втором элементе **span** вместо директивы **~if**, имеющей инверсное значение свойства **showMe**, используется директива **~else**.

Директива **~else-if** используется для условного рендеринга HTML-элемента, когда директива **~if** у предыдущего элемента не выполняется, но при этом следующий HTML-элемент необходимо отображать не всегда, а только при выполнении дополнительного условия, указанного в директиве **~else-if**.

Т.е. HTML-элемент, в котором указана директива **~else-if**, будет создаваться и прорисовываться только в том случае, когда значение директивы **~if** у предыдущего элемента будет равно **false**. При этом значение выражения у самой директивы **~else-if** должно быть истинным (**true**).

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <span ~else-if="true">Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

В данном примере применены директивы **~if** и **~else-if** для смены надписи на кнопке.

```faq_md
Директива **~else-if** с константным значением **true** аналогична директиве **~else**.
```

```like_md
Директивы **~else-if** можно использовать последовательно друг за другом неоднократно.
```

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe==0">Нажми меня</span>
            <span ~else-if="showMe==1">Нажми еще раз</span>
            <span ~else-if="showMe==2">Жми сильнее</span>
        </button>
    `,
    showMe: 0,
    onTap() {
        if( ++this.showMe == 3)
            this.showMe = 0;
    }
});
```

В данном примере добавлена еще одна надпись для кнопки, которая появляется при срабатывании второй директивы **~else-if**, когда значения предыдущих директив **~if** и **~else-if** равны **false**.

Если выражения у всех директив **~if** и **~else-if** будут ложными, то будет прорисован HTML-элемент, указанный с директивой **~else**.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe==0">Нажми меня</span>
            <span ~else-if="showMe==1">Нажми еще раз</span>
            <span ~else>Жми сильнее</span>
        </button>
    `,
    showMe: 0,
    onTap() {
        if( ++this.showMe == 3)
            this.showMe = 0;
    }
});
```

В данном примере применены все три директивы **~if**, **~else-if** и **~else** для смены надписи на кнопке.

```info_md
При использовании директив **~if**, **~else-if** и **~else** обязательно соблюдение их порядка следования. Взаимосвязанная группа HTML-элементов с директивами всегда должна начинаться с элемента с директивой **~if**. За ним следуют элементы с директивой **~else-if**. Замыкает группу элемент с директивой **~else**. Элементы с директивами **~else-if** или **~else** могут отсутствовать. В простейшем случае группа может состоять из одного элемента с директивой **~if**.
```

```warning_md
Внутри взаимосвязанной группы не должно быть HTML-элементов без указанных директив и не может быть нарушен порядок следования директив. В противном случае связь между директивами будет потеряна и элементы с директивами **~else-if** и **~else**, находящиеся после точки разрыва, не будут добавляться в DOM компонента независимо от значения предшествующих директив.
```

Например,

```javascript_run_edit_error_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <br>
            <span ~else>Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

В данном примере надписи на кнопке меняются с помощью группы элементов **span** с директивами **~if** и **~else**. Между элементами **span** вставлен элемент **br**. В результате директива **~else** потеряла связь с директивой **~if**, поэтому текст из её элемента **span** никогда не отображается на кнопке.

```warning_md
Примечание — В текущей версии фреймворка, если HTML-элемент с директивой **~else** является первым элементом в вышестоящем узле-элементе, то он всегда встраивается в DOM. В аналогичной ситуации директива **~else-if** в HTML-элементе начинает функционировать как директива **~if**.
```

Например,

```javascript_run_edit_error_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div>
            <span ~else-if="true">Директива ~else-if не должна выполняться</span>
        </div>
        <div>
            <span ~else>Директива ~else не должна выполняться</span>
        </div>
    `
});
```

В данном примере элементы **span** с директивами **~else-if** и **~else** расположены первыми в элементах-контейнерах **div**. В результате текст из этих элементов выводится на экран, хотя явно нарушен порядок следования директив, т.к. них нет предшествующих элементов с директивой **~if**.

```info_md
Текстовые узлы и узлы комментариев между HTML-элементами с директивами **~if**, **~else-if** и **~else** не разрывают их связь.
```

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <style>
            span {
                color: red;
            }
        </style>
        <button @tap="onTap">
            <span ~if="showMe==0">Нажми меня</span>
            <!-- Комментарий -->
            - Пожалуйста -
            <span ~else-if="showMe==1">Нажми еще раз</span>
            <!-- Комментарий -->
            - Очень прошу -
            <span ~else>Жми сильнее</span>
        </button>
    `,
    showMe: 0,
    onTap() {
        if( ++this.showMe == 3)
            this.showMe = 0;
    }
});
```

В данном примере между  директивами **~if**, **~else-if** и **~else** вставлены комментарии и текстовые узлы. Можно видеть, что они не влияют на работу директив.

<div style="position:relative;padding-bottom:48%; margin:10px">
    <iframe src="https://www.youtube.com/embed/M6QI9qut0wI?start=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
    	style="position:absolute;width:100%;height:100%;"></iframe>
</div>


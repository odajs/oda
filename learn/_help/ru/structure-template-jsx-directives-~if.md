Директива **~if** используется для условного рендеринга HTML-элемента.

Если значение этой директивы можно привести к значению **true**, то HTML-элемент, в котором она указана, будет добавлен в DOM компонента и прорисован браузером. В противном случае, если директива **~if** имеет значение **false**, то HTML-элемент будет автоматически удален из DOM компонента, и на HTML-странице он отображаться не будет.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <span ~if="!showMe">Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

В данном примере нажатие на кнопку изменяет значение свойства **showMe** с **true** на **false**, и наоборот. При каждом таком изменении один из элементов **span** будет динамически добавляться в DOM компонента, а другой — удаляться из него, отображаясь и удаляясь с HTML-страницы. Таким образом, с помощью директивы реализована смена надписи на кнопке.

```info_md
В отличие от директивы **~show**, директива **~if** полностью удаляет HTML-элемент из DOM компонента и снова создает его при любом изменении её значения.
```

По этой причине директиву **~if** эффективнее всего использовать тогда, когда сам HTML-элемент на странице изначально не нужен, а переключение его в режим отображения осуществляется крайне редко. В этом случае директива **~if** ускорит рендеринг HTML-страницы, так как сам элемент изначально в DOM будет отсутствовать. Однако при этом замедлится процесс его отображения, так как фреймворку будет необходимо время, чтобы добавить элемент в DOM компонента.

```help_md
Если изменение режима отображения элемента будет происходить достаточно часто, то эффективнее всего будет применить директиву **~show**, которая не создает и не удаляет элемент из DOM, а только прячет его на странице и отображает вновь, используя атрибут **display**.
```

Директива **~else** используется для условного рендеринга HTML-элемента, когда условие предыдущей директивы **~if** не выполняется.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <span ~else>Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

Этот пример аналогичен предыдущему, только во втором элементе **span** вместо директивы **~if**, имеющей инверсное значение свойства **showMe**, используется директива **~else**.

```warning_md
HTML-элемент с директивой **~else** обязательно должен следовать сразу после HTML-элемента c директивой **~if**. В противном случае элемент с директивой **~else** не будет добавляться в DOM компонента независимо от значения директивы **~if**, идущей до него.
```

Например,

```javascript_run_edit_error_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <br>
            <span ~else>Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

Данный пример аналогичен предыдущему, только между элементами **span** с директивами **~if** и **~else** вставлен элемент **br**. В результате директива **~else** потеряла связь с директивой **~if**, поэтому текст из второго элемента **span** никогда не отображается на кнопке.

```info_md
Текстовые узлы и комментарии между HTML-элементами с директивами **~if** и **~else** не влияют на их работу.
```

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <!-- Комментарий -->
            - Пожалуйста -
            <!-- Комментарий -->
            <span ~else>Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

Данный пример аналогичен предыдущему, только элемент **br** заменен на два комментария и текст между ними. Понажимайте на кнопку и убедитесь, что директива **~else** сохранила связь с директивой **~if**.

Директива **~else-if** используется для условного рендеринга HTML-элемента, когда директива **~if** у предыдущего элемента не выполняется, но при этом следующий HTML-элемент необходимо отображать не всегда, а только при выполнении дополнительного условия, указанного в директиве **~else-if**.

Т.е. HTML-элемент, в котором указана директива **~else-if**, будет создаваться и прорисовываться только в том случае, когда значение директивы **~if** у предыдущего элемента будет равно **false**. При этом значение выражения у самой директивы **~else-if** должно быть истинным (**true**).

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe==0">Нажми меня</span>
            <span ~else-if="showMe==1">Нажми еще раз</span>
            <span ~else>Жми сильнее</span>
        </button>
    `,
    showMe: 0,
    onTap() {
        if( ++this.showMe == 3)
            this.showMe = 0;
    }
});
```

В данном примере применены все три директивы **~if**, **~else-if** и **~else** для смены надписи на кнопке.

```like_md
Директивы **~else-if** можно использовать последовательно друг за другом неоднократно.
```

Если выражения у всех директив **~if** и **~else-if** будут ложными, то прорисован будет HTML-элемент, указанный с директивой **~else**.

```warning_md
Элементы с директивой **~else-if** обязательно должны следовать сразу после HTML-элементов с директивой **~if** или **~else-if**. В противном случае связь между директивами будет потеряна, и элемент не будет добавляться в DOM компонента.
```

Текстовые узлы и комментарии между HTML-элементами с директивами **~if**, **~else-if** и **~else** не влияют на их работу.

```warning_md
Будьте внимательны при использовании директив **~if**, **~else-if** и **~else** с компонентами. Эти директивы полностью удаляют компонент из DOM и создают его заново, поэтому все сделанные в компоненте изменения теряются. Если необходимо сохранять эти изменения, используйте директиву **~show**.
```

Пример 4

```javascript_run_edit_[my-component.js]_h=100_
ODA({
    is: 'my-icon',
    imports: '@oda/icon',
    template: `
        <oda-icon icon='icons:android' icon-size='48' :fill='color'></oda-icon>
        <button @tap='_onTap'>Изменить цвет</button>
    `,
    $public: {
        color: 'lime'
    },
    _onTap() {
        this.color = 'orange';
    }
});

ODA({
    is: 'my-component',
    template: `
        <button @tap='_onTap'>Показать / Скрыть</button>
        <my-icon ~if='_isShow'></my-icon>
    `,
    $public:{
        _isShow: true
    },
    _onTap() {
        this._isShow = !this._isShow;
    }
});
```

В данном примере нажатие на кнопку **Изменить цвет** изменяет в компоненте **my-icon** цвет иконки на оранжевый. Но после каждой операции условного рендеринга компонента, вызванного нажатием на кнопку **Показать/Скрыть**, иконка приобретает цвет заданный по умолчанию, так как компонент создается заново.

<div style="position:relative;padding-bottom:48%; margin:10px">
    <iframe src="https://www.youtube.com/embed/M6QI9qut0wI?start=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
    	style="position:absolute;width:100%;height:100%;"></iframe>
</div>

Директива **~if** используется для условного рендеринга HTML-элемента.

Если значение этой директивы можно привести к значению **true**, то HTML-элемент, в котором она указана, будет добавлен в DOM компонента и прорисован браузером. В противном случае, если директива **~if** примет значение **false**, то HTML-элемент будет автоматически удален из DOM компонента, и, соответственно, браузер не будет тратить время на его рендеринг и отображение.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <span ~if="!showMe">Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

В данном примере нажатие на кнопку изменяет значение свойства **showMe** с **true** на **false**, и наоборот. При каждом таком изменении один из элементов **span** будет динамически добавляться в DOM компонента, а другой — удаляться из него, отображаясь и удаляясь с HTML-страницы. Таким образом, с помощью директивы реализована смена надписи на кнопке.

```info_md
В отличие от директивы **~show**, директива **~if** полностью удаляет HTML-элемент из DOM компонента и снова добавляет его при любом изменении её значения.
```

По этой причине директиву **~if** эффективнее всего использовать тогда, когда сам HTML-элемент на странице изначально не нужен, а переключение его в режим отображения осуществляется крайне редко. В этом случае директива **~if** ускорит рендеринг HTML-страницы, так как сам элемент изначально в DOM будет отсутствовать. Однако при этом замедлится процесс его отображения, так как фреймворку будет необходимо время, чтобы добавить элемент в DOM компонента.

```help_md
Если изменение режима отображения элемента будет происходить достаточно часто, то эффективнее всего будет применить директиву **~show**, которая не добавляет и не удаляет элемент из DOM, а только прячет его на странице и отображает вновь, используя атрибут **display**.
```

Директива **~else** используется для условного рендеринга HTML-элемента, когда условие предыдущей директивы **~if** не выполняется.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <span ~else>Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

Этот пример аналогичен предыдущему, только во втором элементе **span** вместо директивы **~if**, имеющей инверсное значение свойства **showMe**, используется директива **~else**.

```warning_md
HTML-элемент с директивой **~else** обязательно должен следовать сразу после HTML-элемента c директивой **~if**. В противном случае элемент с директивой **~else** не будет добавляться в DOM компонента независимо от значения директивы **~if**, идущей до него.
```

Например,

```javascript_run_edit_error_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <br>
            <span ~else>Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

Данный пример аналогичен предыдущему, только между элементами **span** с директивами **~if** и **~else** вставлен элемент **br**. В результате директива **~else** потеряла связь с директивой **~if**, поэтому текст из второго элемента **span** никогда не отображается на кнопке.

```info_md
Текстовые узлы и комментарии между HTML-элементами с директивами **~if** и **~else** не влияют на их работу.
```

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe">Нажми меня</span>
            <!-- Комментарий -->
            - Пожалуйста -
            <!-- Комментарий -->
            <span ~else>Нажми еще раз</span>
        </button>
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

Данный пример аналогичен предыдущему, только элемент **br** заменен на два комментария и текст между ними. Понажимайте на кнопку и убедитесь, что директива **~else** сохранила связь с директивой **~if**.

Директива **~else-if** используется для условного рендеринга HTML-элемента, когда директива **~if** у предыдущего элемента не выполняется, но при этом следующий HTML-элемент необходимо отображать не всегда, а только при выполнении дополнительного условия, указанного в директиве **~else-if**.

Т.е. HTML-элемент, в котором указана директива **~else-if**, будет создаваться и прорисовываться только в том случае, когда значение директивы **~if** у предыдущего элемента будет равно **false**. При этом значение выражения у самой директивы **~else-if** должно быть истинным (**true**).

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">
            <span ~if="showMe==0">Нажми меня</span>
            <span ~else-if="showMe==1">Нажми еще раз</span>
            <span ~else>Жми сильнее</span>
        </button>
    `,
    showMe: 0,
    onTap() {
        if( ++this.showMe == 3)
            this.showMe = 0;
    }
});
```

В данном примере применены все три директивы **~if**, **~else-if** и **~else** для смены надписи на кнопке.

```like_md
Директивы **~else-if** можно использовать последовательно друг за другом неоднократно.
```

Если выражения у всех директив **~if** и **~else-if** будут ложными, то прорисован будет HTML-элемент, указанный с директивой **~else**.

```warning_md
Элементы с директивой **~else-if** обязательно должны следовать сразу после HTML-элементов с директивой **~if** или **~else-if**. В противном случае связь между директивами будет потеряна, и элемент не будет добавляться в DOM компонента.
```

Текстовые узлы и комментарии между HTML-элементами с директивами **~if**, **~else-if** и **~else** не влияют на их работу.








```info_md
Директивы **~if**, **~else-if** и **~else** не создают и не уничтожают DOM-объекты HTML-элементов, а только включают и отключают их от DOM компонента. Таким образом, включение-выключение HTML-элементов не приводит к потере данных внесенных в них пользователем.
```

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">Показать / Скрыть</button>
        <input type="range" ~if="showMe">
    `,
    showMe: true,
    onTap() {
        this.showMe = !this.showMe;
    }
});
```

В данном примере кнопка с помощью директивы **~if** управляет отображением ползунка. Измените положение ползунка. Затем с помощью кнопки скройте и отобразите его заново. Можете убедиться, что заданное вами положение ползунка сохранилось.

```info_md
Ссылку на HTML-элемент с директивами **~if**, **~else-if** и **~else** можно получить с помощью методов **$** и **$$**, только когда элемент включен в DOM компонента. Если его нет в DOM компонента, то и ссылку на него получить нельзя.
```

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <button @tap="onTap">Показать / Скрыть</button>
        <span>Элемент найден? {{answer}}</span>
        <strong ~if="showMe">Найди меня</strong>
    `,
    showMe: true,
    answer: "",
    onTap() {
        this.showMe = !this.showMe;
        requestAnimationFrame( ()=>{this.answer = this.$("strong")===null ? "Нет " : "Да "} );
    }
});
```

В данном примере по нажатию кнопки происходит добавление и удаление элемента **strong** в DOM компонента. В обработчике нажатия с помощью метода **$("strong")** производится поиск этого элемента. Можно видеть, что когда элемент отключен, то метод не может его найти.








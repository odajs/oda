Директива **~props** используется для динамического связывания свойств компонента с атрибутами HTML-элемента, в котором эта директива указана.

Связываемые свойства должны быть сгруппированы в одном объекте, который указывается как значение директивы **~props**. Директива создает в HTML-элементе из каждого свойства одноименный атрибут. Значение свойства становится значением этого атрибута.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <input ~props="attr">
    `,
    attr: {
        type: 'range',
        min: 0,
        max: 100,
        step: 50
    }
});
```

В данном примере все атрибуты тега **input** заданы с помощью директивы **~props**. Если открыть инструменты разработчика в браузере, то можно убедиться, что из объекта **attr** в тег **input** перенесены все свойства.

```html
<my-component>
    #shadow-root (closed)
        <input type="range" min="0" max="100" step="50">
</my-component>
```

```info_md
Директива **~props** обеспечивает только однонаправленную связь от свойств компонента к атрибутам элемента. Изменение значений атрибутов элемента в процессе его функционирования в свойства компонента не передается.
```

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <input ~props="attr">
        <span>{{attr.value}}</span>
    `,
    attr: {
        type: 'range',
        min:0,
        max:100,
        step: 50,
        value: 0
    }
});
```

Данный пример аналогичен предыдущему, добавлено только свойство **value** и вывод его значения на экран. Подвигайте ползунок и убедитесь, что значение свойства не изменяется.

С помощью директивы можно добавлять в HTML-элементы нестандартные атрибуты. Например, через такие атрибуты можно передавать параметры вложенным компонентам, или можно использовать их в CSS-селекторах.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    imports: '@oda/button',
    template: `
        <style>
            oda-button[my-color="colorNumber_1"] {
                color: red;
            }
        </style>
        <oda-button ~props="attr">Кнопка</oda-button>
    `,
    attr: {
        myColor: 'colorNumber_1',
        icon: 'icons:android'
    }
});
```

В данном примере с помощью директивы **~props** и связанного с ней объекта **attr** настраивается вид компонента **oda-button**. Имя свойства **icon** совпадает с именем параметра компонента, в котором указывается название иконки, отображаемой на кнопке. А с помощью свойства **myColor** задается дополнительный селектор, связывающий компонент с CSS-правилом, определяющим красный цвет надписи на кнопке.

В своей работе директива взаимодействует с DOM-объектом HTML-элемента. Для каждого добавляемого атрибута директива проверяет наличие соответствующего ему свойства в DOM-объекте. Если такое свойство существует, то директива присваивает ему новое значение, а браузер сам создает для него атрибут в HTML-элементе, если сочтет это необходимым. Если такое свойство отсутствует, то тогда директива создает атрибут в HTML-элементе с помощью метода **setAttribute** DOM-объекта.

Например,

```javascript_run_edit_[my-component.js]_h=75_
ODA({
    is: 'my-component',
    template: `
        <div style="position: absolute; width: 45%;">
            <input ~props="attr">
            <div>Имеет свойство type: {{'type' in $('[nick="i1"]')}} — Имеет атрибут type: {{$('[nick="i1"]').hasAttribute('type')}}</div>
            <div>Имеет свойство value: {{'value' in $('[nick="i1"]')}} — Имеет атрибут value: {{$('[nick="i1"]').hasAttribute('value')}}</div>
            <div>Имеет свойство nick: {{'nick' in $('[nick="i1"]')}} — Имеет атрибут nick: {{$('[nick="i1"]').hasAttribute('nick')}}</div>
        </div>
        <div style="position: absolute; left: 55%;">
            <input id="i2" placeholder="без ~props">
            <div>Имеет свойство type: {{'type' in $('#i2')}} — Имеет атрибут type: {{$('#i2').hasAttribute('type')}}</div>
            <div>Имеет свойство value: {{'value' in $('#i2')}} — Имеет атрибут value: {{$('#i2').hasAttribute('value')}}</div>
            <div>Имеет свойство nick: {{'nick' in $('#i2')}} — Имеет атрибут nick: {{$('#i2').hasAttribute('nick')}}</div>
        </div>
    `,
    attr: {
        type: 'text',
        value: 'применение ~props',
        nick: 'i1' 
    }
});
```

В данном примере с помощью директивы **~props** в элементе **input** создаются три атрибута **type**, **value** и **nick**. В примере используется метод **$** (см. раздел методы компонента) для получения указателя на DOM-объект элемента **input**. На экран выводятся сообщение о наличии указанных атрибутов у элемента и наличии соответствующих им свойств в DOM-объекте. Для сравнения в пример включен второй элемент **input** без указанных атрибутов, для него выводится аналогичная информация. Можно видеть, что свойство **type** изначально присутствует в DOM-объекте, но атрибут **type** имеется только у элемента с директивой **~props**. Аналогично в DOM-объекте изначально присутствует свойство **value**. В элементе оно предназначено для временного хранения значений введенных пользователем, поэтому браузер не создает одноименный атрибут, хотя и использует значение свойства при отображении элемента. Третий атрибут **nick** создается директивой, соответствующее ему свойство в DOM-объекте отсутствует.


















Директиву **~props** можно использовать совместно с директивой **~for**. В этом случае объекты с атрибутами для создаваемых HTML-элементов должны быть объединены в один массив.

Например,

```javascript_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <input ~for="attr" ~props="$for.item">
    `,
    attr: [
        {type: 'text', placeholder: 'Введите значение'},
        {type: 'checkbox', checked: true },
        {type: 'range', max: 100, value: 25 },
        {type: 'button', value: 'Кнопка', style: 'background: yellow' }
    ]
});
```

В этом примере шаблон компонента содержит HTML-элемент **input**, в котором указаны директивы **~for** и **~props**. Первая директива создает четыре элемента **input**, а вторая добавляет в каждый элемент свои собственные атрибуты, определяющие его функциональность.









```error_md
Если в групповых объектах указать свойства, которые не являются атрибутами HTML-элементов, то никакого связывания не произойдет.
```

Пример 3

```javascript_error_run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~for="items" ~is="$for.item.tag" ~props="$for.item">Текст не меняется</div>
    `,
    $public:{
        items:[
            {tag: 'span', contentText: 'span'},
            {tag: 'button', innerHTML: 'Кнопка'},
        ]
    }
});
```

В этом примере свойства **contentText** и **innerHTML** будут добавлены в атрибуты соответствующих элементов, но их текстовое содержимое не изменится, так как ни у **span**, ни у **button** таких атрибутов нет, хотя свойства с такими именами существуют.

<div style="position:relative;padding-bottom:48%; margin:10px">
    <iframe src="https://www.youtube.com/embed/JU-T3ZRUhqM?start=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
    	style="position:absolute;width:100%;height:100%;"></iframe>
</div>

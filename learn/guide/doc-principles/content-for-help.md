Оглавление документации формируется автоматически на основе иерархии папок и их содержимого.

Корневой папкой документации является папка «**learn**», которая соответствует разделу «**Обучение**» главного меню сайта. Кроме этого, она соответствует корневому пункту оглавления, которое отображается в области «**Навигатора**», расположенной на левой панели главной страницы сайта.

![Оглавление раздела](learn/images/doc-principles_table-of-contents-01.png "Пример оглавления раздела")

Для организации подразделов в корневой папке необходимо создать вложенные папки. Файлы, расположенные в этих папках, будут являться статьями этих подразделов. Таким образом, структура оглавления справочной системы будет формироваться автоматически на основе файловой структуры папки «**learn**» со всеми вложенными в нее элементами.

![Структура папки](learn/images/help_example3.jpg "Структура папки learn")

Для включения подразделов и статей в документацию в каждой отдельной папке должен находиться служебный файл с именем «**_.dir**». В нем описываются все подразделы и статьи, выводимые в оглавлении данного раздела, и устанавливаются связи между их названиями и именами соответствующих им папок и файлов.

В файле «**\_.dir**» описывается только один уровень оглавления, определяемый содержимым текущей папки. Оглавление в целом формируется на основе содержимого всех файлов «**\_.dir**», расположенных во всех вложенных папках раздела «**learn**» («**Обучение**»).

Описание каждой папки в файле «**\_.dir**» задается в формате JSON в виде массива однотипных объектов. Каждый элемент этого массива описывает отдельный пункт оглавления справочной системы следующим образом:

```json
[
    {
        "name": "Имя файла или вложенной папки",
        "label": "<b style='color:blue'>Название пункта</b> оглавления",
        "content": {
            "abstract": "\n~~~md\n Краткая аннотация.\n~~~"
        },
        "status": "check"
    }
]
```

В качестве элементов папки могут выступать:

1. Файлы в формате «**Markdown**» со справочными материалами.
1. Вложенные папки, которые будут рассматриваться как подразделы данного раздела.

Любые другие элементы папки, не описанные в ее файле «**_.dir**», в справочную систему попадать не будут.

Каждый отдельный объект в JSON-массиве должен содержать по крайней мере два обязательных ключа:

1. «**name**» — ключ, значение которого определяет либо имя файла, в котором хранится текст со справочными материалами, либо имя вложенной папки, содержимое которой должно стать подразделом внутри данного раздела.

1. «**label**» — ключ, значение которого будет выводиться в качестве названия данного пункта в оглавлении справочной системы.

```info _hideGutter
Обратите внимание, что для форматирования этого названия можно использовать стандартную HTML-разметку.
```

Необязательный ключ «**content**» позволяет задать дополнительные настройки отображения каждого пункта оглавления. Например, с его помощью можно указать ключ **abstract**, значение которого добавит краткое описание под названием данного пункта. Весь текст этого описания или определенную его часть можно будет дополнительно отформатировать, используя разметку «**Markdown**». Для этого предусмотрены специальные теги «**~~~md**» и «**~~~**».

Ключ «**status**» является необязательным и позволяет указать текущее состояние справочного материала. Здесь можно использовать несколько значений:

1. «**temp**» – материал разрабатывается.
1. «**check**» – материал полностью написан, но находится на проверке.
1. «**edit**» – материал проверен, но требует внесения исправлений.
1. «**ok**» – материал проверен и утвержден для использования.

Если у объекта явно не указать ключ «**status**», то он будет задан автоматически со значением по умолчанию «**ok**».

В нашей справочной системе все справочные материалы находятся в отдельной папке «**guide**», которая соответствует разделу «**Руководства**», расположенному непосредственно в корневой папке «**learn**». Рассмотрим пример, когда в этот раздел потребуется добавить новый подраздел со следующей структурой:

![Оглавление раздела](learn/images/help_example.jpg "Пример оглавления раздела")

Для этого потребуется выполнить определенную последовательность шагов:

Шаг 1. Создать папку с именем «**example**» в папке «**guide**».

Шаг 2. Найти в папке «**guide**» файл с именем «**_.dir**» и добавить в него описание вновь созданной папки:

```javascript hideGutter
[
    ...,
    {
        "name": "example",
        "label": "Пример раздела",
        "status": "check"
    }
]
```

Порядок расположения этого описания в файле «**_.dir**» будет определять порядок расположения нового подраздела на сайте в оглавлении раздела «**Руководство**» («**guide**»).

Шаг 3. Создать в папке «**example**» новый справочный материал, например, в файле с именем «**lesson.md**».

```text hideGutter_hideicon
    Урок №1
```

Шаг 4. В папке «**example**» создать файл с именем «**_.dir**», в котором необходимо описать вновь созданный материал следующим образом:

```json
[
    {
        "name": "lesson.md",
        "label": "<b style='color:blue'>Название пункта</b> оглавления",
        "content": {
            "abstract": "\n~~~md\n Краткая аннотация.\n~~~"
        }
    }
]
```

После перезагрузки HTML-страницы в браузере, созданный раздел должен появится в конце оглавления раздела «**Руководство**», а его подпункт должен ссылаться на справочный материал, расположенный в файле «**lesson.md**».

![Отображение раздела](learn/images/help_example2.jpg "Отображение раздела")

Следует отметить, что в главном меню сайта отображаются только разделы первого и второго уровня.

![Главное меню](learn/images/help_menu.jpg "Главное меню")

Разделы более низких уровней появляться в главном меню сайта не будут. Получить доступ к ним можно будет только через оглавление, расположенное в области «**Навигатора**».

<div style="position:relative;padding-bottom:48%; margin:10px">
    <iframe src="https://www.youtube.com/embed/AvNX36qXoNU?start=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
    	style="position:absolute;width:100%;height:100%;"></iframe>
</div>


Для описания работы любого компонента предусмотрен полуавтоматический механизм формирования его справочной системы.

Этот механизм необходимо первоначально настроить определенным образом.

Для этого каждый компонент следует располагать в отдельной папке, каждая из которых может находится в одной и той же родительской папке.

![Папка с компонентами](https://odajs.org/learn/_images/components/component1.png "Папка с компонентами")

Структура этой родительской папки с компонентами должна быть описана в ее служебном файла «**_.dir**» следующим образом:

```text md
[
  {
    "name": "Имя папки отдельного компонента",
    "label": "Название пункта в оглавлении для данного компонента",
    "content": {
      "abstract": "\n~~~md\n<b>Краткая аннотация папки</b>\n~~~",
      "link": "index.html"
    },
    "status": "ok"
  }
]
```

Здесь используется формат представления данных JSON. В нем вложенные папки с компонентами описываются в виде отдельных JSON-объектов, каждый из которых может содержать следующий набор полей:

1. «**name**» — ключ, который определяет имя папки данного компонента.

1. «**label**» — ключ, значение которого будет использоваться для отображения названия пункта меню на сайте для данного компонента.

    ```info _hideGutter
    Обратите внимание, что для форматирования этого названия можно использовать стандартную HTML-разметку.
    ```

1. «**content**» —  необязательный ключ, который позволяет задать дополнительные настройки. С его помощью можно указать два ключа:
    1. **abstract** — необязательный ключ, значение которого добавит краткое описание под заголовком данного пункта. Весь текст этого описания или определенную его часть можно дополнительно отформатировать, используя разметку «**Markdown**». Для этого предусмотрены специальные теги «**~~~md**» и «**~~~**».
    1. **link** — ключ, значение которого задает имя файла, в котором будет располагаться кодом с примером работы данного компонента.

1. «**status**» — необязательный ключ, который позволяет задать текущее состояние справочного материала. Здесь можно использовать несколько значений:

    1. «**temp**» – материал разрабатывается.
    1. «**check**» – материал полностью написан, но должен быть проверен.
    1. «**edit**» – материал проверен, но требует внесения исправлений.
    1. «**ok**» – материал проверен и утвержден для использования.

    ```info _hideGutter
    Если у объекта с описанием папки не указан ключ «**status**», то он будет задан по умолчанию со значением «**ok**».
    ```

Например, пусть компонент «**oda-calculator**» решено расположить  в папке «**tools**».

![Папка tools](https://odajs.org/learn/_images/components/component0.png "Папка tools")

Тогда в этой папке должны находится поместить покрайней мере два элемента:

1. Папка с файлами самого компонента. Например, «**calculator**».
1. Служебный файл «**_.dir**» с описанием структуры самой папки «**tools**».

Служебный файл «**_.dir**» в этом случае должен выглядеть следующим образом:

![Код примера использования компонента](https://odajs.org/learn/_images/components/component5.png "Код примера использования компонента")

В нем говорится, что

1. В папке «**tools**» находится только одна подпапка «**calculator**».
1. Пункт «**calculator**» на сайте должен отображаться под именем «**Калькулятор**».

![Отображение подпункта в оглавлении](https://odajs.org/learn/_images/components/component5.1.png "Отображение подпункта в оглавлении")

1. Под пунктом «**Калькулятор**» в оглавлении на сайте должно отображаться краткое описание, указанное в ключе **abstract**.

![Отображение краткого описания](https://odajs.org/learn/_images/components/component5.2.png "Отображение краткого описания")

1. При нажатии на этот пункт должен отображаться пример работы компонента, находящийся внутри папки **calculator**» и хранящийся в файле с именем «**index.html**».

Кроме файла с примером работы компонента в его папке должны находится и другие элементы.

![JavaScript код компонента](https://odajs.org/learn/_images/components/component2.png "JavaScript код компонента")

К таким элементам относятся:

1. Файл с кодом компонента. Например, «**calculator**».
1. Служебная папка «**$info**», для хранения документации этого компонента.

Файл с кодом компонента определяет его работу и должен быть написан на языке «**JavaScript**».

![JavaScript код компонента] (https://odajs.org/learn/_images/components/component3.png "JavaScript код компонента")

Имя этого файла принято задавать по имени компонента без приставки «**oda**».

Например, для компонента «**oda-calculator**» его файл должен называться «**calculator.js**».

![JavaScript код компонента] (https://odajs.org/learn/_images/components/component2.png "JavaScript код компонента")


Существует негласное соглашение, что папка компонента должна иметь такое же имя, как и его файл, но без расширения «**.js**».

Например, для компонента «**oda-calculator**» его папку желательно назвать «**calculator**».

![JavaScript файл компонента] (https://odajs.org/learn/_images/components/component.png "JavaScript файл компонента")

Для документирования работы компонента в его папку необходимо поместить файл с примером его использования.

![Код примера использования компонента] (https://odajs.org/learn/_images/components/component5.png "Код примера использования компонента")

Этот файл записывается в формате «**HTML**». Его имя может быть любым, но общепринято использовать имя «**index.html**». В любом случае его имя нужно указать в атрибуте «**link**» файла «**_.dir**» с описанием структуры родительской папки.

Например,

```text md
[
  {
    "name": "calculator",
    "label": "Калькулятор",
    "content": {
      "abstract": "\n~~~md\n<b>Components:</b> calculator\n~~~",
      "link": "index.html"
    }
  }
]
```

В этом случае содержимое этого файла будет загружаться справочной системой при выборе ссылки на этот компонент в главном меню сайта.

![Отображение примера с использованием компонента] (https://odajs.org/learn/_images/components/component6.png "Отображение примера с использованием компонента")

В нашей системе все компоненты находятся в разделе «**Component**», и ссылки на них хранятся именно в данном разделе меню.

![Отображение примера с использованием компонента] (https://odajs.org/learn/_images/components/component61.png "Отображение примера с использованием компонента")

Имя этого файла может быть любым, но его принято называть по имени самого компонента, без приставки «**oda**». Например,

![JavaScript код компонента] (https://odajs.org/learn/_images/components/component3.png "JavaScript код компонента")

```html run_edit
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Welcome to ODA.js</title>
        <script type="module" src="https://cdn.jsdelivr.net/gh/odajs/oda/oda.js"></script>
    </head>
    <body>
        <my-component></my-component>
        <script type="module">
            ODA({
                is: 'my-component',
                template: `
                    <span>{{text}}</span>
                `,
                $public:{
                    text: 'Hello, world!'
                }
            });
        </script>
    </body>
</html>
```

В этом примере сначала подключается библиотека фреймворка, используя механизм CDN и технологию JavaScript модулей. Для этого обязательным условием является использование в теге **script** атрибута **type** со значением **module**.

В теле HTML-страницы задается пользовательский тег <my-component>, который, однако, не будет по умолчанию отображаться браузером, так как он не является его нативным HTML-элементом.

Для того, чтобы отобразить этот тег необходимо зарегистрировать в браузере пользовательский компонент с таким же именем с помощью функции ODA нашего фреймворка.

Давайте подробнее разберем код самого компонента, который передается этой функции в списке параметров в виде объекта с определенными свойствами:

1. Свойство **is** этого объекта определяет имя будущего компонента, под которым он будет зарегистрирован в браузере.

1. Свойство **template** задает шаблон будущего компонента, при написании которого используется формат JSX.

1. Свойство **props** содержит объявления всех свойств компонента, которые будут использоваться для хранения его данных. В данном примере это свойство **text**, которое будет автоматически подставлено в содержимое элемента **span**, с возможностью динамического изменения его значения.

На основе этой информации функция ODA сама создаст и зарегистрирует пользовательский компонент, а браузер получит возможность отображать его, используя кастомный тег компонента как нативный HTML-элемент.

```info_md
В данном примере был использован полный формат разметки HTML-документа. В дальнейшем можно использовать сокращенную запись для компактности получаемого кода.
```

<div style="position:relative;padding-bottom:48%; margin:10px">
    <iframe src="https://www.youtube.com/embed/GpyzBM5bKQ8?start=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
    style="position:absolute;width:100%;height:100%;"></iframe>
</div>
